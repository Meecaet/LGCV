<div class="container body-content">
    <h2>Mettre en jour</h2>

    <div *ngIf="role">
        <div class="row">
            <div class="col-md-4">
                <form name="formEdit">
                    <div class="form-group">
                        <h4>Role</h4>
                        <input class="form-control" (keyup)="isValid(role.role.name,IsValidRole)" [(ngModel)]="role.role.name" type="text" name="Role"
                            value="{{role.role.name}}">
                        <div #IsValidRole class="alert alert-danger" hidden="presse?false:true">
                            Ce champ est requis
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="button" [disabled]="!IsValidRole.hidden" (click)="editRole()" class="btn btn-default">Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>

        <div>
            <div class="col-md-4">
                <label class="control-label">Nom du utilisateur à ajouter</label>

                <div *ngIf="applicationUsers">
                    <select [(ngModel)]="selectedUserId">
                        <option *ngFor="let user of applicationUsers" value="{{user.id}}">{{user.userName}}</option>
                    </select>
                </div>
                <button type="button" [disabled]="selectedUserId == '-1'" (click)="addUser()" class="btn btn-default">Ajouter utilisateur à rôle</button>
            </div>

            <table class="table">
                <thead>
                    <tr>
                        <th>
                            <p>Nom du Utilisateur</p>
                        </th>
                        <th>
                            <p>Adresse Courriel</p>
                        </th>
                        <th>
                            <p>Supprimer</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let user of role.users">
                        <td>{{user.userName}}</td>
                        <td>{{user.email}}</td>
                        <td>
                            <button type="button" (click)="delete(user.id)">Supprimer</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div>
        <a routerLink="/role/admin">Retourner à la liste</a>
    </div>
</div>